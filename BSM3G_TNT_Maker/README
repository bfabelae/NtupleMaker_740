####################################################

Code developed by: Andres Florez (Los Andes), Alfredo Gurrola (Vanderbilt) and Amandeep Kalsi (Panjab)

###################################################

The recipe is to install the code at LPC/ACCRE.
Therefore, to install the code elsewere, you'd need
to make the necessary changes.

In order to use the code you need to follow carefully these steps:


#####################################################################
#                         CMSSW_11_1_2_patch3 Recipe                       #
#####################################################################

1. You need to work at the SLC7 area.

   export SCRAM_ARCH=slc7_amd64_gcc820
   source /cvmfs/cms.cern.ch/cmsset_default.csh

2. set the CMSSW release: cmsrel CMSSW_11_1_2_patch3

3. cd CMSSW_11_1_2_patch3/src

4. cmsenv

5. Install and compile the code to use the MET producers (for covariance matrix):

  git cms-init
  git cms-addpkg RecoMET/METProducers
  scram b -j 10

6. Install and compile the code to use all the HLTrigger and DataFormats  producers

  git cms-addpkg HLTrigger
  scram b -j 10
  git cms-addpkg DataFormats
  scram b -j 10

7. Get the NTupleMaker code and compile it:

  git clone https://github.com/bfabelae/NtupleMaker_740 NtupleMaker
  scram b -j 10

8. Checkout the branch dedicated to the UPSG HLT TDR analysis
  git checkout hlt_tdr_2020

8. In the python directory, there is file called miniAODv2_8025_*.py (name specifies which file is appropriate)
   8.1 You can run it with CMSSW (make sure it runs on a valid miniOADv2): cmsRun miniAODv2_8025_MC.py
